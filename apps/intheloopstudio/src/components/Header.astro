---
const navItems = [
	{ label: "Home", href: "/#hero" },
	{ label: "About", href: "/#about" },
	{ label: "Pricing", href: "/#pricing" },
];
---

<header id="header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
	<nav class="mx-auto flex max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-8">
		<a href="/" class="flex items-center gap-2 text-xl font-bold text-white">
			<img src="/logo.svg" alt="In The Loop" class="h-8 w-8" width="32" height="32" />
			<span>In The Loop</span>
		</a>
		
		<!-- Desktop nav -->
		<div class="hidden items-center gap-6 md:flex">
			{navItems.map((item) => (
				<a href={item.href} class="text-sm font-medium text-white/80 transition-colors hover:text-white">
					{item.label}
				</a>
			))}
			<a
				href="#"
				class="line-through rounded-full bg-secondary px-6 py-2 text-sm font-medium text-white transition-all hover:bg-secondary/90 hover:scale-105"
			>
				Sign Up
			</a>
		</div>
		
		<!-- Mobile menu button -->
		<button
			id="mobile-menu-btn"
			class="flex h-10 w-10 items-center justify-center rounded-lg text-white md:hidden"
			aria-label="Toggle menu"
		>
			<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
				<path id="menu-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
			</svg>
		</button>
	</nav>
	
	<!-- Mobile menu -->
	<div id="mobile-menu" class="hidden bg-black/95 backdrop-blur-lg md:hidden">
		<div class="flex flex-col gap-4 px-4 py-6">
			{navItems.map((item) => (
				<a href={item.href} class="text-lg font-medium text-white/80 transition-colors hover:text-white">
					{item.label}
				</a>
			))}
			<a
				href="https://nzqgw10avlu.typeform.com/to/scNWQNtg"
				class="mt-4 rounded-full bg-secondary px-6 py-3 text-center font-medium text-white"
			>
				Sign Up
			</a>
		</div>
	</div>
</header>

<script>
	const header = document.getElementById("header");
	const mobileMenuBtn = document.getElementById("mobile-menu-btn");
	const mobileMenu = document.getElementById("mobile-menu");
	
	// Header background on scroll
	window.addEventListener("scroll", () => {
		if (window.scrollY > 50) {
			header?.classList.add("bg-black/90", "backdrop-blur-lg", "shadow-lg");
		} else {
			header?.classList.remove("bg-black/90", "backdrop-blur-lg", "shadow-lg");
		}
	}, { passive: true });
	
	// Mobile menu toggle
	mobileMenuBtn?.addEventListener("click", () => {
		mobileMenu?.classList.toggle("hidden");
	});
	
	// Close mobile menu on link click
	mobileMenu?.querySelectorAll("a").forEach((link) => {
		link.addEventListener("click", () => {
			mobileMenu.classList.add("hidden");
		});
	});
</script>
