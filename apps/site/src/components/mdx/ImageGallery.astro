---
interface ImageItem {
	src: string;
	alt: string;
	caption?: string;
}

interface Props {
	images: ImageItem[];
	columns?: 2 | 3 | 4;
}

const { images, columns = 2 } = Astro.props;

const gridCols = {
	2: "grid-cols-1 md:grid-cols-2",
	3: "grid-cols-1 md:grid-cols-2 lg:grid-cols-3",
	4: "grid-cols-2 md:grid-cols-3 lg:grid-cols-4",
};
---

<div class:list={['grid gap-4 my-8', gridCols[columns]]}>
  {images.map((image) => (
    <figure class="m-0">
      <div class="overflow-hidden rounded-md">
        <img
          src={image.src}
          alt={image.alt}
          class="w-full h-48 object-cover"
          loading="lazy"
        />
      </div>
      {image.caption && (
        <figcaption class="mt-1 text-center text-xs text-gray-600 dark:text-gray-400">
          {image.caption}
        </figcaption>
      )}
    </figure>
  ))}
</div>
